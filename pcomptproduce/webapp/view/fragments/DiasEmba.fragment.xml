<core:FragmentDefinition 
    xmlns:m="sap.m"
    xmlns:core="sap.ui.core"
    xmlns="sap.ui.table">
    <Table
        id="EmpresasTable"
        selectionMode="None"
        visibleRowCount="8"
        fixedColumnCount="1"
        fixedBottomRowCount="3"
        class="classPrincipalTable">
        <extension>
            <m:OverflowToolbar >
                <m:Title text="{objectView>/objectTableTitle}" />
                <m:ToolbarSpacer />
                <!-- <m:SegmentedButton 
                    selectedKey="{objectView>/indicadorPropiedad}" 
                    selectionChange="onSelectioIndPropiedad" 
                    visible="{=%{objectView>/empresaIndex} === 0 ? false : true}">
					<m:items>
						<m:SegmentedButtonItem text="Todos" key="D" />
						<m:SegmentedButtonItem text="Propios" key="P"/>
						<m:SegmentedButtonItem text="Terceros" key="T"/>
					</m:items>
				</m:SegmentedButton> -->
                <m:Button 
                    icon="sap-icon://multi-select"
                    text="Puertos por zona" 
                    press="onOpenZonas"
                    type="Accept"
                    visible="{= ${objectView>/empresaIndex} === 1 &amp;&amp; ${objectView>/bMostrarPuertos} }"/>
            </m:OverflowToolbar>
        </extension>
        <columns>
            <!-- Columna Grupo Empresarial -->
                <Column width="12rem"
                        hAlign="Begin">
                    <multiLabels>
                        <m:Label text=""/>
                        <m:Label text="Empresa receptor"/>
                    </multiLabels>
                    <template>
                        <m:ObjectStatus
                            text="{DSGRE}"
                            active="true"
                            state="Information"
                            press=".onPress" />
                    </template>
                </Column>

                <Column width="5rem"
                        hAlign="Center">
                    <multiLabels>
                        <m:Label text="Embarcación" />
                    </multiLabels>
                    <template>
                        <m:Text text="{= ${/help/ZCDZAR} === '001' ? ${CPRNC} : ${CPRSU}}"  textAlign="End" />
                    </template>
                </Column>

                <Column width="6rem"
                        hAlign="Center">
                    <multiLabels>
                        <m:Label text="Matrícula" />
                    </multiLabels>
                    <template>
                        <m:Text text="{= ${/help/ZCDZAR} === '001' ? ${CAVNC} : ${CAVSU}}" />
                    </template>
                </Column>

            <!-- COlumnas de totales -->
                <Column width="8rem"
                        hAlign="Center">
                    <multiLabels>
                        <m:Label text="CBOD" />
                    </multiLabels>
                    <template>
                        <m:Text text="{
                                parts:[
                                    {path:'pescaTotalD'},
                                    {path:'pescaTotalP'},
                                    {path:'pescaTotalT'}
                                ],
                                formatter:'.formatter.setTotalCol'
                            }"
                            textAlign="End"
                            class="classPesca" />
                    </template>
                </Column>

                <Column width="6rem"
                        hAlign="End">
                    <multiLabels>
                        <m:Label text="Empresa armador" />
                    </multiLabels>
                    <template>
                        <m:Text text="{
                            parts:[
                                {path:'CDTAS'},
                                {path: 'nDesTotalD'}
                            ],
                            formatter:'.formatter.setDivision'
                        }" />
                    </template>
                </Column>

                <Column width="6rem"
                        hAlign="End">
                    <multiLabels>
                        <m:Label text="Zona"/>
                    </multiLabels>
                    <template>
                        <m:Text text="{
                                parts:[
                                    {path: 'NREMB'},
                                    {path: 'EMBPR'},
                                    {path: 'EMBTR'}
                                ],
                                formatter: '.formatter.setTotalCol'    
                            }"  />
                    </template>
                </Column>

                <Column width="6rem"
                        hAlign="End">
                    <multiLabels>
                        <m:Label text="Puerto" />
                    </multiLabels>
                    <template>
                        <m:Text text="{
                                parts:[
                                    {path:'nDesTotalD'},
                                    {path:'nDesTotalP'},
                                    {path:'nDesTotalT'}
                                ],
                                formatter: '.formatter.setTotalCol'
                            }" />
                    </template>
                </Column>

                <Column width="6rem"
                        hAlign="End">
                    <multiLabels>
                        <m:Label text="Pesc Desc" />
                    </multiLabels>
                    <template>
                        <m:Text text="{
							parts:[
								{path: 'nCocPescaNdesD'},
                                {path: 'nCocPescaNdesP'},
                                {path: 'nCocPescaNdesT'}
							],
                            formatter: '.formatter.setTotalCoc'
						}" />
                    </template>
                </Column>

                <Column width="6rem"
                        headerSpan="2,1"
                        hAlign="End">
                    <multiLabels>
                    <m:Label text="Inicio descarga" />
                        <m:Label text="Fecha" />
                    </multiLabels>
                    <template>
                        <m:Text text="{
							parts:[
								{path: 'nCocPescaNdesD'},
                                {path: 'nCocPescaNdesP'},
                                {path: 'nCocPescaNdesT'}
							],
                            formatter: '.formatter.setTotalCoc'
						}" />
                    </template>
                </Column>
                <Column width="6rem"
                        hAlign="End">
                    <multiLabels>
                        <m:Label text="Inicio descarga" />
                        <m:Label text="Hora" />
                    </multiLabels>
                    <template>
                        <m:Text text="{
							parts:[
								{path: 'nCocPescaNdesD'},
                                {path: 'nCocPescaNdesP'},
                                {path: 'nCocPescaNdesT'}
							],
                            formatter: '.formatter.setTotalCoc'
						}" />
                    </template>
                </Column>

                <Column width="6rem"
                        headerSpan="2,1"
                        hAlign="End">
                    <multiLabels>
                    <m:Label text="Fin descarga" />
                        <m:Label text="Fecha" />
                    </multiLabels>
                    <template>
                        <m:Text text="{
							parts:[
								{path: 'nCocPescaNdesD'},
                                {path: 'nCocPescaNdesP'},
                                {path: 'nCocPescaNdesT'}
							],
                            formatter: '.formatter.setTotalCoc'
						}" />
                    </template>
                </Column>
                <Column width="6rem"
                        hAlign="End">
                    <multiLabels>
                        <m:Label text="Fin descarga" />
                        <m:Label text="Hora" />
                    </multiLabels>
                    <template>
                        <m:Text text="{
							parts:[
								{path: 'nCocPescaNdesD'},
                                {path: 'nCocPescaNdesP'},
                                {path: 'nCocPescaNdesT'}
							],
                            formatter: '.formatter.setTotalCoc'
						}" />
                    </template>
                </Column>

        </columns>
    </Table>
</core:FragmentDefinition>